<!-- /templates/farmer/farmer_dashboard.html -->
{% extends "shared/base.html" %}

{% block title %}Farmer Dashboard{% endblock %}

{% block content %}
<!-- Welcome Section -->
<section class="dashboard-welcome">
    <div class="welcome-container">
        <!-- Profile Picture (Circular) -->
        <div class="profile-container">
            <img src="{{ farmer.profile_picture or '/web_static/images/default_dp.png' }}" alt="Profile Picture" class="profile-icon">
        </div>
        <!-- Greeting Message -->
        <div class="greeting-message">
            <h1 class="greeting">Hello, {{ farmer.name }}!</h1>
            <p>Your farm at a glance.</p>
        </div>
    </div>
</section>



<!-- Summary Cards Section -->
<section class="dashboard-summary">
    <div class="card">
        <h2>Total Expenses</h2>
        <p>{{ total_expenses }} KSh</p>
        <small>This Month</small>
    </div>
    <div class="card">
        <h2>Tea Produced</h2>
        <p>{{ total_tea_produced }} Kgs</p>
        <small>This Month</small>
    </div>
    <div class="card">
        <h2>Inventory Balance</h2>
        <p>{{ total_inventory_balance }} Units</p>
        <small>Current</small>
    </div>
    <div class="card">
        <h2>Yearly Expenses</h2>
        <p>{{ total_expenses_year }} KSh</p>
        <small>This Year</small>
    </div>
    <div class="card">
        <h2>Yearly Production</h2>
        <p>{{ total_tea_produced_year }} Kgs</p>
        <small>This Year</small>
    </div>
</section>

<!-- Interactive Charts Section -->
<section class="dashboard-charts">
    <h2>Insights & Trends</h2>
    <div class="chart-container">
        <div class="chart">
            <h3>Production Trends</h3>
            <canvas id="productionTrendChart"></canvas>
        </div>
        <div class="chart">
            <h3>Expense Breakdown</h3>
            <canvas id="expenseBreakdownChart"></canvas>
        </div>
    </div>
</section>

<!-- Actions Section -->
<section class="dashboard-actions">
    <h2>Quick Actions</h2>
    <div class="actions-container">
        <a href="{{ url_for('farmer_bp.view_production') }}" class="action-btn">Record Production</a>
        <a href="{{ url_for('farmer_bp.expenses') }}" class="action-btn">Log Expenses</a>
    </div>
</section>
{% endblock %}

